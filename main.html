<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login Form</title>
  </head>
  <body>
    <h1>Login Form</h1>
    <form id="loginForm">
      <!-- Username -->
      <label for="username">Username:</label>
      <input
        type="text"
        id="username"
        placeholder="Username"
        required
      />
      <br />
      
      <!-- Password -->
      <label for="password">Password:</label>
      <input
        type="password"
        id="password"
        placeholder="Password"
        required
      />
      <br />
      
      <!-- Remember me checkbox -->
      <label for="checkbox">
        <input type="checkbox" id="checkbox" /> Remember me
      </label>
      <br />
      
      <!-- Submit button -->
      <input type="submit" id="submit" value="Submit" />
    </form>

    <!-- Existing user login button, initially hidden -->
    <button id="existing" style="display: none;">Login as existing user</button>

    <script>
      // Get form elements
      const form = document.getElementById("loginForm");
      const submitButton = document.getElementById("submit");
      const existingButton = document.getElementById("existing");
      const checkbox = document.getElementById("checkbox");
      const usernameField = document.getElementById("username");
      const passwordField = document.getElementById("password");

      // Check for saved credentials in local storage
      const savedUsername = localStorage.getItem("username");
      const savedPassword = localStorage.getItem("password");

      // If saved credentials exist, show the "Login as existing user" button
      if (savedUsername && savedPassword) {
        existingButton.style.display = "block";
      }

      // Handle form submission
      form.addEventListener("submit", (event) => {
        event.preventDefault();
        
        const username = usernameField.value;
        const password = passwordField.value;

        // If "Remember me" checkbox is checked, save credentials to local storage
        if (checkbox.checked) {
          localStorage.setItem("username", username);
          localStorage.setItem("password", password);
        } else {
          // Otherwise, remove credentials from local storage
          localStorage.removeItem("username");
          localStorage.removeItem("password");
        }

        // Show login alert with the entered username
        alert(`Logged in as ${username}`);
      });

      // Handle login as existing user
      existingButton.addEventListener("click", () => {
        if (savedUsername) {
          alert(`Logged in as ${savedUsername}`);
        }
      });
    </script>
  </body>
</html>
